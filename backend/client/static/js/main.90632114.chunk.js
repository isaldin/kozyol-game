(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(t,e,n){t.exports=n(80)},79:function(t,e,n){},80:function(t,e,n){"use strict";n.r(e);var a=n(23),r=n(0),i=n.n(r),c=n(26),o=n.n(c),u=n(11),s="/",l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":gameId";return"/game/".concat(t)},p=n(1),f=n(12),d=n(3),m=n(4),b=n(8),h=n(7),g=n(9),O=n(2);function v(){var t=Object(p.a)(["\n    width: 100%;\n    max-width: 100%;\n    min-width: 100%;\n    min-height: 40px;\n    max-height: 100px;\n    border: 1px solid #999;\n    padding: 5px;\n    border-radius: 4px;\n    box-sizing: border-box;\n    font-size: 14px;\n"]);return v=function(){return t},t}var j=O.b.input(v());function E(){var t=Object(p.a)(["\n    height: 40px;\n    padding: 0 15px;\n    color: #fff;\n    font-size: 15px;\n    background: rgba(26, 90, 188, 0.83);\n    border: none;\n    border-radius: 3px;\n    cursor: pointer;\n"]);return E=function(){return t},t}var S=O.b.button(E()),y=n(27);function x(){var t=Object(p.a)(["\n  margin-left: 15px;\n"]);return x=function(){return t},t}function k(){var t=Object(p.a)(["\n    display: block;\n    font-size: 14px;\n    margin-bottom: 4px;\n"]);return k=function(){return t},t}function C(){var t=Object(p.a)(["\n    margin: 0;\n"]);return C=function(){return t},t}function w(){var t=Object(p.a)(["\n        text-align: center;\n    "]);return w=function(){return t},t}function T(){var t=Object(p.a)(["\n    margin-bottom: 15px;\n\n    :last-child {\n        margin-bottom: 0;\n    }\n\n    ","\n"]);return T=function(){return t},t}function I(){var t=Object(p.a)(["\n    display: block;\n    background: #f3f3f3;\n    border: 1px solid #e1e1e1;\n    padding: 20px;\n"]);return I=function(){return t},t}var _=O.b.div(I()),A=O.b.div(T(),function(t){return"center"===t.align&&Object(O.a)(w())}),N=O.b.h3(C()),R=O.b.label(k()),D=Object(O.b)(y.a)(x()),W=n(18),L=n.n(W),F=function(t){return"/api".concat(t)},P=new(function(){function t(){Object(d.a)(this,t)}return Object(m.a)(t,[{key:"setToken",value:function(t){localStorage.setItem("auth",t)}},{key:"getToken",value:function(){return localStorage.getItem("auth")}},{key:"withAuth",value:function(){return{headers:{Authorization:"Bearer ".concat(this.getToken())}}}},{key:"signIn",value:function(t,e){var n=this;return L.a.post(F("/auth/login"),{username:t,password:e}).then(function(t){n.setToken(t.data.access_token)})}},{key:"signUp",value:function(t,e){return L.a.post(F("/auth/signup"),{username:t,password:e}).then(function(){})}}]),t}()),M=n(15),U=Object(M.a)(),z=Object(a.b)(U);function J(){var t=Object(p.a)(["\n    width: 500px;\n    margin: 0 auto;\n"]);return J=function(){return t},t}var G,H=function(t){function e(){var t,n;Object(d.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={login:"",password:"",formDisabled:!1},n.signIn=function(){var t=n.state,e=t.login,a=t.password;t.formDisabled||(e.length<3||e.length>12?alert("\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 3 \u0434\u043e 12 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):(n.setState(Object(f.a)({},n.state,{formDisabled:!0})),(n.props.isRegistration?P.signUp(e,a):P.signIn(e,a)).catch(function(t){alert(t),n.setState({login:"",password:"",formDisabled:!1})}).then(function(){U.replace(s)})))},n.onChangeLogin=function(t){n.setState(Object(f.a)({},n.state,{login:t.target.value}))},n.onChangePassword=function(t){n.setState(Object(f.a)({},n.state,{password:t.target.value}))},n}return Object(g.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){localStorage.removeItem("auth")}},{key:"render",value:function(){return i.a.createElement(Y,null,i.a.createElement(A,null,i.a.createElement(N,null,this.props.isRegistration?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")),i.a.createElement(A,null,i.a.createElement(R,null,"\u041b\u043e\u0433\u0438\u043d:"),i.a.createElement(j,{name:"login",value:this.state.login,onChange:this.onChangeLogin})),i.a.createElement(A,null,i.a.createElement(R,null,"\u041f\u0430\u0440\u043e\u043b\u044c:"),i.a.createElement(j,{name:"password",type:"password",value:this.state.password,onChange:this.onChangePassword})),i.a.createElement(A,{align:"center"},i.a.createElement(S,{onClick:this.signIn},this.props.isRegistration?"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f":"\u0412\u043e\u0439\u0442\u0438"),i.a.createElement(D,{to:this.props.isRegistration?"/authorization":"/registration"},this.props.isRegistration?"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))}}]),e}(r.Component),Y=Object(O.b)(_)(J()),K=n(20),Q=n(24),B=Object(a.c)(l()),X=Object(Q.a)(B,function(t){return t?t.params.gameId:""}),V=n(43),Z=n(21),q={games:[]};!function(t){t.FETCH_ALL_SUCCESS="FETCH_ALL_SUCCESS"}(G||(G={}));var $,tt=null;!function(t){t.UPDATE="UPDATE"}($||($={}));var et=Object(Z.c)({router:z,games:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case G.FETCH_ALL_SUCCESS:return{games:e.payload};default:return t}},gameState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case $.UPDATE:return e.payload;default:return t}}}),nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,at=Object(Z.e)(et,nt(Object(Z.a)(Object(V.a)(U)))),rt=new(function(){function t(){Object(d.a)(this,t)}return Object(m.a)(t,[{key:"createGame",value:function(t){return L.a.post(F("/games/create"),{slotsCount:t},Object(f.a)({},P.withAuth()))}},{key:"getList",value:function(){return L.a.get(F("/games/list"),Object(f.a)({},P.withAuth())).then(function(t){return t.data})}},{key:"connectToGame",value:function(t){return L.a.post(F("/games/connect"),{gameId:t},Object(f.a)({},P.withAuth())).then(function(t){return t.data})}},{key:"updateList",value:function(){return this.getList().then(function(t){at.dispatch(function(t){return{type:G.FETCH_ALL_SUCCESS,payload:t}}(t))})}}]),t}());function it(){var t=Object(p.a)(["\n    margin: 0;\n    padding: 0;\n    max-height: 400px;\n    overflow-y: scroll;\n"]);return it=function(){return t},t}function ct(){var t=Object(p.a)(["\n    font-size: 14px;\n"]);return ct=function(){return t},t}function ot(){var t=Object(p.a)(["\n    margin-bottom: 5px;\n    margin-right: 5px;\n    font-size: 16px;\n    font-weight: bold;\n"]);return ot=function(){return t},t}function ut(){var t=Object(p.a)(["\n    margin-bottom: 10px;\n    padding: 10px;\n    border: 1px solid #e1e1e1;\n    color: #000;\n    display: block;\n    text-decoration: none;\n    background: #fff;\n    cursor: pointer;\n"]);return ut=function(){return t},t}var st=function(t){function e(){var t,n;Object(d.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={timer:null},n}return Object(g.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this;rt.updateList().catch(function(){U.replace("/authorization")}).then(function(){var e=window.setInterval(function(){rt.updateList()},3e3);t.setState({timer:e})})}},{key:"componentWillUnmount",value:function(){this.state&&null!==this.state.timer&&window.clearInterval(this.state.timer)}},{key:"openGame",value:function(t){U.push(l(t.toString()))}},{key:"render",value:function(){var t=this;return i.a.createElement(_,null,i.a.createElement(A,null,i.a.createElement(N,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0433\u0440")),i.a.createElement(mt,null,0===this.props.games.length&&"\u0418\u0433\u043e\u0440 \u043d\u0435\u0442",this.props.games.map(function(e){var n=e.id,a=e.owner,r=e.slotsCount,c=e.players;return i.a.createElement(pt,{key:n,onClick:function(){return t.openGame(n)}},i.a.createElement(ft,null,a.login,":"),i.a.createElement(dt,null,c.length,"/",r))})))}}]),e}(r.Component),lt=Object(K.c)(Object(Q.a)(function(t){return t.games.games},function(t){return{games:t}}),function(){return{}})(st),pt=O.b.li(ut()),ft=O.b.span(ot()),dt=O.b.span(ct()),mt=O.b.ul(it());function bt(){var t=Object(p.a)(["\n    width: 100%;\n    max-width: 100%;\n    min-width: 100%;\n    min-height: 40px;\n    max-height: 100px;\n    border: 1px solid #999;\n    padding: 5px;\n    border-radius: 4px;\n    box-sizing: border-box;\n    font-size: 14px;\n"]);return bt=function(){return t},t}var ht=O.b.select(bt()),gt=function(t){function e(){var t,n;Object(d.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={slotsCount:2,formDisabled:!1},n.createGame=function(){rt.createGame(n.state.slotsCount).catch(alert).then(function(){rt.updateList()})},n.onSlotsCountChange=function(t){n.setState(Object(f.a)({},n.state,{slotsCount:parseInt(t.target.value)}))},n}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return i.a.createElement(_,null,i.a.createElement(A,null,i.a.createElement(N,null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443")),i.a.createElement(A,null,i.a.createElement(R,null,"\u041a\u043e\u043b-\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432:"),i.a.createElement(ht,{name:"slotsCount",value:this.state.slotsCount,onChange:this.onSlotsCountChange},i.a.createElement("option",null,"2"),i.a.createElement("option",null,"3"),i.a.createElement("option",null,"4"))),i.a.createElement(A,{align:"center"},i.a.createElement(S,{onClick:this.createGame},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")))}}]),e}(r.Component);function Ot(){var t=Object(p.a)(["\n  text-align: center;\n  color: rgba(26,90,188,0.83);\n"]);return Ot=function(){return t},t}function vt(){var t=Object(p.a)(["\n  display: grid;\n  grid-template-columns: 50% 50%;\n  padding: 0 5%;\n"]);return vt=function(){return t},t}var jt,Et,St,yt,xt=function(t){function e(){return Object(d.a)(this,e),Object(b.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Ct,null,"KOZYOL GAME"),i.a.createElement(kt,null,i.a.createElement(lt,null),i.a.createElement(gt,null)))}}]),e}(r.Component),kt=O.b.div(vt()),Ct=O.b.h1(Ot()),wt=n(49),Tt=n(10);!function(t){t[t.Hearts=0]="Hearts",t[t.Diamonds=1]="Diamonds",t[t.Clubs=2]="Clubs",t[t.Spades=3]="Spades"}(yt||(yt={}));var It,_t=["\u2665","\u2666","\u2663","\u2660"],At=(jt={},Object(Tt.a)(jt,yt.Hearts,!0),Object(Tt.a)(jt,yt.Diamonds,!0),Object(Tt.a)(jt,yt.Clubs,!1),Object(Tt.a)(jt,yt.Spades,!1),jt),Nt=(Et={},Object(Tt.a)(Et,yt.Hearts,"H"),Object(Tt.a)(Et,yt.Diamonds,"D"),Object(Tt.a)(Et,yt.Clubs,"C"),Object(Tt.a)(Et,yt.Spades,"S"),Et);!function(t){t[t.Six=6]="Six",t[t.Seven=7]="Seven",t[t.Eight=8]="Eight",t[t.Nine=9]="Nine",t[t.Jack=102]="Jack",t[t.Queen=103]="Queen",t[t.King=104]="King",t[t.Ten=110]="Ten",t[t.Ace=111]="Ace"}(It||(It={}));var Rt=(St={},Object(Tt.a)(St,It.Six,"6"),Object(Tt.a)(St,It.Seven,"7"),Object(Tt.a)(St,It.Eight,"8"),Object(Tt.a)(St,It.Nine,"9"),Object(Tt.a)(St,It.Jack,"J"),Object(Tt.a)(St,It.Queen,"Q"),Object(Tt.a)(St,It.King,"K"),Object(Tt.a)(St,It.Ten,"10"),Object(Tt.a)(St,It.Ace,"A"),St);function Dt(t){var e=Object(wt.a)(t,2),n=e[0],a=e[1];return"http://richardschneider.github.io/cardsJS/cards/".concat(Rt[a]).concat(Nt[n],".svg")}function Wt(){var t=Object(p.a)(["\n    text-align: center;\n    padding: 10px;\n    border: 1px solid #444;\n    margin-bottom: 15px;\n"]);return Wt=function(){return t},t}function Lt(){var t=Object(p.a)(["\n    display: inline-block;\n    background-color: rgba(26, 90, 188, 0.83);\n    color: #fff;\n    padding: 5px 10px;\n    font-size: 16px;\n    text-decoration: none;\n    border-radius: 3px;\n    vertical-align: top;\n    margin-top: 4px;\n    margin-right: 10px;\n"]);return Lt=function(){return t},t}function Ft(){var t=Object(p.a)(["\n  width: 90px;\n  position: absolute;\n  left: 10px;\n  top: 10px;\n  \n  :nth-child(2) {\n    left: 20px;\n    top: 20px;\n  }\n  \n  :nth-child(3) {\n    left: 30px;\n    top: 30px;\n  }\n  \n  :nth-child(4) {\n    left: 40px;\n    top: 40px;\n  }\n  \n  :nth-child(5) {\n    left: 50px;\n    top: 50px;\n  }\n"]);return Ft=function(){return t},t}function Pt(){var t=Object(p.a)(["\n    background: rgba(26, 90, 188, 0.83);\n  "]);return Pt=function(){return t},t}function Mt(){var t=Object(p.a)(["\n  cursor: pointer;\n  border-radius: 10px;\n  background: #e4e4e4;\n\n  ","\n\n  :hover {\n    background: rgba(26, 90, 188, 0.83);\n  }\n"]);return Mt=function(){return t},t}function Ut(){var t=Object(p.a)(["\n  text-align: center;\n  display: inline-block;\n  border: 1px solid #000;\n  padding: 10px;\n  width: 120px;\n  height: 150px;\n  margin: 10px;\n  background: #f3f3f3;\n  overflow: hidden;\n  position: relative;\n"]);return Ut=function(){return t},t}function zt(){var t=Object(p.a)(["\n  text-align: center;\n  margin: 0;\n  padding: 0;\n"]);return zt=function(){return t},t}function Jt(){var t=Object(p.a)(["\n  text-align: center;\n"]);return Jt=function(){return t},t}function Gt(){var t=Object(p.a)(["\n  text-align: center;\n  color: rgba(26,90,188,0.83);\n"]);return Gt=function(){return t},t}var Ht=O.b.h1(Gt()),Yt=O.b.div(Jt()),Kt=O.b.ul(zt()),Qt=O.b.li(Ut()),Bt=Object(O.b)(Qt)(Mt(),function(t){return t.selected&&Object(O.a)(Pt())}),Xt=O.b.img(Ft()),Vt=Object(O.b)(y.a)(Lt()),Zt=Object(O.b)(N)(Wt());function qt(){var t=Object(p.a)(["\n    color: red;\n  "]);return qt=function(){return t},t}function $t(){var t=Object(p.a)(["\n  font-size: 24px;\n  line-height: 18px;\n  font-weight: bold;\n  margin: 0 5px;\n  display: inline-block;\n  border: 1px solid #4e4e4e;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  padding: 5px;\n\n  ","\n"]);return $t=function(){return t},t}var te=function(t){function e(){return Object(d.a)(this,e),Object(b.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this,e=[[],[],[],[]];if(this.props.cards.length>0)for(var n=this.props.cards[0],a=n[parseInt(Object.keys(n)[0])].length,r=function(n){t.props.cards.forEach(function(t){var a=t[parseInt(Object.keys(t)[0])];e[n]=e[n]||[],a[n]&&e[n].push(a[n])})},c=0;c<a;c++)r(c);return i.a.createElement(Yt,null,i.a.createElement(N,null,"\u041a\u0430\u0440\u0442\u044b \u043d\u0430 \u0441\u0442\u043e\u043b\u0435 (\u043a\u043e\u0437\u044b\u0440\u044c:",i.a.createElement(ee,{isRed:At[this.props.trump]},_t[this.props.trump]),")"),i.a.createElement(Kt,null,e.map(function(t,e){return i.a.createElement(Qt,{key:e},t.map(function(t){return i.a.createElement(Xt,{key:t.toString(),src:Dt(t)})}))})))}}]),e}(r.Component),ee=O.b.span($t(),function(t){return t.isRed&&Object(O.a)(qt())}),ne=n(48);var ae,re=new(function(){function t(){Object(d.a)(this,t)}return Object(m.a)(t,[{key:"doStep",value:function(t,e){return L.a.post(F("/step/".concat(t)),{cards:e},Object(f.a)({},P.withAuth())).then(function(t){return t.data})}},{key:"confirm",value:function(t){return L.a.post(F("/step/".concat(t)),{},Object(f.a)({},P.withAuth())).then(function(t){return t.data})}}]),t}());!function(t){t.WAIT_PLAYERS="WAIT_PLAYERS",t.WAIT_CONFIRMATIONS_FOR_START_NEW_ROUND="WAIT_CONFIRMATIONS_FOR_START_NEW_ROUND",t.WAIT_CONFIRMATIONS_FOR_START_NEW_SET="WAIT_CONFIRMATIONS_FOR_START_NEW_SET",t.PLAY="PLAY",t.ENDED="ENDED"}(ae||(ae={}));var ie=function(){function t(e){Object(d.a)(this,t),this.gameState=e}return Object(m.a)(t,[{key:"isWaitingPlayers",get:function(){return this.gameState.state===ae.WAIT_PLAYERS}},{key:"isWaitingConfirmations",get:function(){return[ae.WAIT_CONFIRMATIONS_FOR_START_NEW_ROUND,ae.WAIT_CONFIRMATIONS_FOR_START_NEW_SET].includes(this.gameState.state)}},{key:"isSetEnded",get:function(){return this.gameState.state===ae.WAIT_CONFIRMATIONS_FOR_START_NEW_SET}},{key:"isPlaying",get:function(){return[ae.PLAY,ae.WAIT_CONFIRMATIONS_FOR_START_NEW_ROUND,ae.WAIT_CONFIRMATIONS_FOR_START_NEW_SET].includes(this.gameState.state)}},{key:"isEnded",get:function(){return this.gameState.state===ae.ENDED}},{key:"isMyTurn",get:function(){return this.gameState.me===this.gameState.currentPlayerId&&!this.isWaitingConfirmations}},{key:"slotsState",get:function(){return"".concat(this.gameState.players.length,"/").concat(this.gameState.slotsCount)}}]),t}(),ce=new(function(){function t(){Object(d.a)(this,t)}return Object(m.a)(t,[{key:"getGameState",value:function(t){return L.a.get(F("/gameState/".concat(t)),Object(f.a)({},P.withAuth())).then(function(t){return t.data})}},{key:"fetch",value:function(){var t=parseInt(X(at.getState()));t&&!isNaN(t)&&this.getGameState(t).then(function(t){var e;at.dispatch((e=new ie(t),{type:$.UPDATE,payload:e}))})}}]),t}()),oe=1e4,ue=function(t){function e(){var t,n;Object(d.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={timer:null,current:oe,disabled:!1},n}return Object(g.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=window.setInterval(function(){var e=t.state.current-1e3;t.setState(Object(f.a)({},t.state,{current:e}),function(){e<=0&&(t.state.timer&&window.clearInterval(t.state.timer),t.setState({timer:null,current:0,disabled:!0},function(){t.props.confirm()}))})},1e3);this.state.timer&&window.clearInterval(this.state.timer),this.setState({timer:e})}},{key:"componentWillUnmount",value:function(){this.state.timer&&window.clearInterval(this.state.timer)}},{key:"render",value:function(){var t=this;return this.state.disabled?i.a.createElement("span",null):i.a.createElement(S,{onClick:function(){return t.props.confirm()}},"\u042d\u042d\u042d\u042d, \u0434\u0430\u0432\u0430\u0439 \u0434\u0430\u043b\u044c\u0448\u0435, \u0441\u0430\u0439\u043f\u0430\u043b (",this.state.current/1e3,")")}}]),e}(r.Component),se=function(t){function e(){var t,n;Object(d.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={selectedCards:[]},n}return Object(g.a)(e,t),Object(m.a)(e,[{key:"shouldComponentUpdate",value:function(t,e,n){return JSON.stringify(e)!==JSON.stringify(this.state)||JSON.stringify(t)!==JSON.stringify(this.props)}},{key:"selectCard",value:function(t){var e=0===this.props.cardsOnTable.length,n=[];if(!e){var a=this.props.cardsOnTable[0];n=a[parseInt(Object.keys(a)[0])]}this.isSelectedCard(t)?this.setState({selectedCards:this.state.selectedCards.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)})}):this.props.enabled&&(e||n.length!==this.state.selectedCards.length)&&(e&&!function(t,e){return e.every(function(e){return e[0]===t[0]||e[1]===t[1]})}(t,this.state.selectedCards)||this.setState({selectedCards:[].concat(Object(ne.a)(this.state.selectedCards),[t])}))}},{key:"isSelectedCard",value:function(t){return!!this.state.selectedCards.find(function(e){return JSON.stringify(e)===JSON.stringify(t)})}},{key:"doStep",value:function(){if(0!==this.state.selectedCards.length){var t=this.state.selectedCards;this.setState({selectedCards:[]}),re.doStep(this.props.gameId,t).catch(alert).then(function(){ce.fetch()})}}},{key:"confirm",value:function(){re.confirm(this.props.gameId).catch(alert).then(function(){ce.fetch()})}},{key:"render",value:function(){var t=this;return i.a.createElement(Yt,null,i.a.createElement(N,null,"\u041c\u043e\u0438 \u043a\u0430\u0440\u0442\u044b:"),i.a.createElement(Kt,null,this.props.cards.map(function(e){return i.a.createElement(Bt,{key:"".concat(e),selected:t.isSelectedCard(e),onClick:function(){return t.selectCard(e)}},i.a.createElement(Xt,{src:Dt(e)}))})),this.props.enabled&&i.a.createElement(S,{onClick:function(){return t.doStep()}},"\u041d\u043e\u0433\u0430\u043c \u0445\u043e\u0434\u0443, \u0433\u043e\u043b\u043e\u0432\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0443"),this.props.waitingConfirmations&&i.a.createElement(ue,{confirm:function(){return t.confirm()}}))}}]),e}(r.Component);function le(){var t=Object(p.a)(["\n    background: #ff5320;\n  "]);return le=function(){return t},t}function pe(){var t=Object(p.a)(["\n    border: 3px solid rgba(255,193,35,0.83);\n  "]);return pe=function(){return t},t}function fe(){var t=Object(p.a)(["\n    background: rgba(26, 90, 188, 0.83);\n    color: #fff;\n  "]);return fe=function(){return t},t}function de(){var t=Object(p.a)(["\n  display: inline-block;\n  border: 1px solid #000;\n  padding: 10px;\n  width: 100px;\n  height: 100px;\n  margin: 10px;\n  \n  ","\n\n  ","\n\n  ","\n"]);return de=function(){return t},t}function me(){var t=Object(p.a)(["\n  display: inline-block;\n  width: 25px;\n  padding: 5px 1px;\n  font-size: 13px;\n  border-radius: 50%;\n  background: rgba(255,193,35,0.83);\n  border: 2px solid #fff;\n  color: #000;\n  text-align: center;\n"]);return me=function(){return t},t}function be(){var t=Object(p.a)(["\n  margin: 0;\n"]);return be=function(){return t},t}function he(){var t=Object(p.a)(["\n  text-align: center;\n  overflow: hidden;\n  margin: 0;\n"]);return he=function(){return t},t}function ge(){var t=Object(p.a)(["\n  width: 50px;\n  height: 50px;\n"]);return ge=function(){return t},t}function Oe(){var t=Object(p.a)(["\n  text-align: center;\n"]);return Oe=function(){return t},t}var ve=function(t){function e(){return Object(d.a)(this,e),Object(b.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement(Yt,null,i.a.createElement(N,null,"\u0418\u0433\u0440\u043e\u043a\u0438:"),i.a.createElement(je,null,this.props.players.map(function(e){var n=e.id,a=e.name;return i.a.createElement(ke,{isMe:t.props.me===n,current:t.props.currentPlayerId===n,myTurn:t.props.currentPlayerId===n&&t.props.me===n,key:n},i.a.createElement(Ee,{src:"https://cdn.iconscout.com/icon/free/png-512/avatar-380-456332.png"}),i.a.createElement(Se,null,a),i.a.createElement(ye,null,i.a.createElement(xe,null,t.props.score[n])))})))}}]),e}(r.Component),je=O.b.ul(Oe()),Ee=O.b.img(ge()),Se=O.b.p(he()),ye=O.b.p(be()),xe=O.b.div(me()),ke=O.b.li(de(),function(t){return t.isMe&&Object(O.a)(fe())},function(t){return t.current&&Object(O.a)(pe())},function(t){return t.myTurn&&Object(O.a)(le())});function Ce(){var t=Object(p.a)(["\n  border-bottom: 1px solid #000;\n  padding: 10px;\n  \n  :last-child {\n    border-bottom: 0;\n  }\n"]);return Ce=function(){return t},t}function we(){var t=Object(p.a)(["\n  border: 1px solid #000;\n  max-width: 500px;\n  margin: 20px auto;\n  padding: 0;\n  list-style: none;\n"]);return we=function(){return t},t}var Te=function(t){function e(){return Object(d.a)(this,e),Object(b.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement(Yt,null,i.a.createElement(N,null,"\u0418\u0442\u043e\u0433\u0438 \u043a\u0440\u0443\u0433\u0430:"),i.a.createElement(Ie,null,this.props.players.map(function(e){return i.a.createElement(_e,null,i.a.createElement("strong",null,e.name),": ",t.props.tricks[e.id])})))}}]),e}(r.Component),Ie=O.b.ul(we()),_e=O.b.li(Ce());function Ae(){var t=Object(p.a)(["\n  text-align: center;\n"]);return Ae=function(){return t},t}var Ne=function(t){function e(){var t,n;Object(d.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={timer:null},n}return Object(g.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=parseInt(this.props.gameId);rt.connectToGame(e).catch(function(t){alert(t),U.replace(s)}).then(function(){ce.fetch();var e=window.setInterval(function(){ce.fetch()},3e3);t.setState({timer:e})})}},{key:"componentWillUnmount",value:function(){null!==this.state.timer&&window.clearInterval(this.state.timer)}},{key:"render",value:function(){var t=this.props.gameState;return i.a.createElement("div",null,null!==t&&i.a.createElement("div",null,i.a.createElement(Ht,null,i.a.createElement(Vt,{to:s},"\u2190 \u043d\u0430\u0437\u0430\u0434"),"Game by: ",t.gameState.owner.name),i.a.createElement(ve,{players:t.gameState.players,me:t.gameState.me,currentPlayerId:t.gameState.currentPlayerId,score:t.gameState.gameScore}),t.isEnded&&i.a.createElement(De,null,i.a.createElement("p",null,"\u0418\u0433\u0440\u044b \u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c, \u0433\u043e\u0442\u043e\u0432\u044c \u0442\u0443\u0437\u0430"),i.a.createElement(Vt,{to:s},"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u0438\u0433\u0440")),t.isWaitingPlayers&&i.a.createElement(Zt,null,"\u041e\u0436\u0438\u0434\u0430\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u0432: ".concat(t.slotsState)),t.isPlaying&&!t.isSetEnded&&i.a.createElement(te,{trump:t.gameState.trump,cards:t.gameState.cardsOnTable}),t.isSetEnded&&!!t.gameState.tricks&&i.a.createElement(Te,{players:t.gameState.players,tricks:t.gameState.tricks}),(t.gameState.myCards.length>0||t.isWaitingConfirmations)&&i.a.createElement(se,{gameId:t.gameState.id,enabled:t.isMyTurn,waitingConfirmations:t.isWaitingConfirmations,cardsOnTable:t.gameState.cardsOnTable,cards:t.gameState.myCards})))}}]),e}(r.Component),Re=Object(K.c)(Object(Q.a)(function(t){return t.gameState},X,function(t,e){return{gameState:t,gameId:e}}),function(){return{}})(Ne),De=O.b.h2(Ae()),We=function(){return i.a.createElement(u.c,null,i.a.createElement(u.a,{exact:!0,path:s,component:xt}),i.a.createElement(u.a,{exact:!0,path:l(),component:Re}),i.a.createElement(u.a,{exact:!0,path:"/authorization",render:function(){return i.a.createElement(H,{isRegistration:!1})}}),i.a.createElement(u.a,{exact:!0,path:"/registration",render:function(){return i.a.createElement(H,{isRegistration:!0})}}))},Le=(n(79),document.getElementById("root"));o.a.render(i.a.createElement(K.a,{store:at},i.a.createElement(a.a,{history:U},i.a.createElement(We,null))),Le)}},[[52,1,2]]]);
//# sourceMappingURL=main.90632114.chunk.js.map